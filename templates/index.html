<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ title }}</title>

    <!-- MapLibre GL JS -->
    <link href="https://unpkg.com/maplibre-gl@4.7.1/dist/maplibre-gl.css" rel="stylesheet">
    <script src="https://unpkg.com/maplibre-gl@4.7.1/dist/maplibre-gl.js"></script>

    <!-- PMTiles for serving local vector tiles -->
    <script src="https://unpkg.com/pmtiles@3.2.0/dist/pmtiles.js"></script>

    <!-- Custom styles -->
    <link rel="stylesheet" href="/static/css/style.css">
</head>
<body>
    <header>
        <h1>Topo Map Style Development</h1>
        <div class="controls">
            <label>
                <input type="checkbox" id="sync-maps" checked>
                Sync all maps
            </label>
            <label>
                Grid:
                <select id="grid-size">
                    <option value="1">1x1</option>
                    <option value="2" selected>2x2</option>
                    <option value="3">3x3</option>
                    <option value="4">4x4</option>
                </select>
            </label>
            <button id="reset-view" title="Reset to default view">Reset View</button>
        </div>
    </header>

    <main id="map-grid" class="grid-2">
        <!-- Map cells will be generated by JavaScript -->
    </main>

    <footer>
        <div id="coordinates">
            <span id="coord-display">--</span>
        </div>
        <div class="info">
            Edit <code>styles/custom.json</code> and reload to see changes
        </div>
    </footer>

    <!-- Map cell template -->
    <template id="map-cell-template">
        <div class="map-cell" data-cell-index="">
            <div class="cell-header">
                <select class="style-select" title="Select map style">
                    <option value="">-- Select Style --</option>
                </select>
                <label class="swiss-topo-toggle" title="Toggle Swiss Topo overlay">
                    <input type="checkbox" class="swiss-topo-checkbox">
                    CH
                </label>
                <button class="cell-toggle" title="Enable/disable this cell">X</button>
            </div>
            <div class="map-container"></div>
        </div>
    </template>

    <script src="/static/js/map-grid.js"></script>
</body>
</html>
